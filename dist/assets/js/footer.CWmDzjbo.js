import{getApps as t,initializeApp as r}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";import{getFirestore as a,doc as i,getDoc as o,setDoc as b,serverTimestamp as u}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";import{getAuth as c,onAuthStateChanged as p}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";const n={apiKey:"AIzaSyALbJJCcRibFqa7HVcadIYAgBBzbTREkiY",authDomain:"hustlersathome-b9bee.firebaseapp.com",databaseURL:"https://hustlersathome-b9bee-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"hustlersathome-b9bee",storageBucket:"hustlersathome-b9bee.appspot.com",messagingSenderId:"447459076084",appId:"1:447459076084:web:f26efa8cd4e33523a63ba1",measurementId:"G-5S6WET94BS"};let s;t().length?s=t()[0]:s=r(n);const m=c(s),h=a(s),d=Vue.createApp({data(){return{message:"",user:null}},created(){p(m,e=>{this.user=e})},methods:{async subscribe(){if(!this.user){this.message="You must be logged in to subscribe.";return}try{const e=i(h,"subscribers",this.user.uid);if((await o(e)).exists()){this.message="Email is already subscribed!";return}await b(e,{email:this.user.email,timestamp:u()}),this.message="Subscribed to Newsletter! Your newsletter will appear on the 1st of every month!"}catch(e){console.error("Error during subscription process:",e),this.message="There was an error subscribing. Please try again."}}}});d.mount("#app");
