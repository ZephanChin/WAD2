import{g as l,i as p}from"./index-a7d5cfcc.rqyF9t_j.js";import{g as u,q as h,c as g,w as b,o as C,a as f}from"./index.esm2017.FicD-Q5F.js";const E={apiKey:"AIzaSyALbJJCcRibFqa7HVcadIYAgBBzbTREkiY",authDomain:"hustlersathome-b9bee.firebaseapp.com",databaseURL:"https://hustlersathome-b9bee-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"hustlersathome-b9bee",storageBucket:"hustlersathome-b9bee.appspot.com",messagingSenderId:"447459076084",appId:"1:447459076084:web:f26efa8cd4e33523a63ba1",measurementId:"G-5S6WET94BS"};let i;l().length?i=l()[0]:i=p(E);const y=u(i);let m="";async function w(){const o=document.getElementById("posts-container"),n=document.getElementById("marketplace-title"),e=new URLSearchParams(window.location.search).get("account");if(!e){const s=document.createElement("p");s.textContent="No user specified.",o.appendChild(s);return}m=e,n&&(n.textContent=`${m}'s Marketplace`);try{const s=h(g(y,"posts"),b("account","==",e),C("timestamp","desc")),t=await f(s);if(o.textContent="",t.empty){const a=document.createElement("p");a.textContent=`No posts found for user: ${e}`,o.appendChild(a)}else t.forEach(a=>{const r=a.data();x(a.id,r,o)})}catch(s){console.error("Error retrieving posts:",s);const t=document.createElement("p");t.textContent="Failed to load posts. Please try again later.",o.appendChild(t)}}function x(o,n,d){const e=document.createElement("div");e.classList.add("post-item");const s=document.createElement("h3");s.textContent=n.itemName;const t=document.createElement("div");t.classList.add("image-container");const a=document.createElement("img");a.src=n.imageUrl,a.alt=n.itemName,a.classList.add("post-image");const r=document.createElement("p");r.textContent=`Posted by: ${n.account}`;const c=document.createElement("button");c.textContent="More Details",c.classList.add("more-details"),c.onclick=()=>{window.location.href=`postDetails.html?id=${o}`},t.appendChild(a),t.appendChild(c),e.appendChild(t),e.appendChild(s),e.appendChild(r),d.appendChild(e)}window.onload=w;
