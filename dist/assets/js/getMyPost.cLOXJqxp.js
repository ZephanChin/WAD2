import{g as l,i as p,a as r,o as h}from"./index-a7d5cfcc.rqyF9t_j.js";import{g as u,q as g,o as b,w as C,c as f,a as y}from"./index.esm2017.FicD-Q5F.js";const E={apiKey:"AIzaSyALbJJCcRibFqa7HVcadIYAgBBzbTREkiY",authDomain:"hustlersathome-b9bee.firebaseapp.com",databaseURL:"https://hustlersathome-b9bee-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"hustlersathome-b9bee",storageBucket:"hustlersathome-b9bee.appspot.com",messagingSenderId:"447459076084",appId:"1:447459076084:web:f26efa8cd4e33523a63ba1",measurementId:"G-5S6WET94BS"};let d;l().length?d=l()[0]:d=p(E);const w=r(d),A=u(d);async function B(){const o=document.getElementById("posts-container");h(w,async a=>{if(a){const s=g(f(A,"posts"),C("uid","==",a.uid),b("timestamp","desc")),e=await y(s);if(o.textContent="",e.empty){const t=document.createElement("p");t.textContent="You have not made any posts.",o.appendChild(t)}else e.forEach(t=>{const n=t.data();I(t.id,n,o)})}else{const s=document.createElement("p");s.textContent="Please log in to see your posts.",o.appendChild(s),setTimeout(()=>{window.location.href="/login.html"},2e3)}})}function I(o,a,s){const e=document.createElement("div");e.classList.add("post-item");const t=document.createElement("h3");t.textContent=a.itemName;const n=document.createElement("div");n.classList.add("image-container");const i=document.createElement("img");i.src=a.imageUrl,i.alt=a.itemName,i.classList.add("post-image");const m=document.createElement("p");m.textContent=`Posted by: ${a.account}`;const c=document.createElement("button");c.textContent="More Details",c.classList.add("more-details"),c.onclick=()=>{window.location.href=`postDetails.html?id=${o}`},n.appendChild(i),n.appendChild(c),e.appendChild(n),e.appendChild(t),e.appendChild(m),s.appendChild(e)}window.onload=B;
